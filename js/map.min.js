var map,markers=[],lat=document.getElementById("lat"),lng=document.getElementById("lng");function initMap(){map=new google.maps.Map(document.getElementById("map"),{zoom:8,center:{lat:50.450874,lng:30.522774},mapTypeId:"terrain"});var e=document.getElementById("pac-input"),a=new google.maps.places.SearchBox(e);map.controls[google.maps.ControlPosition.TOP_LEFT].push(e),map.addListener("bounds_changed",function(){a.setBounds(map.getBounds())}),a.addListener("places_changed",function(){var e=a.getPlaces();if(0!=e.length){var n=new google.maps.LatLngBounds;e.forEach(function(e){if(e.geometry){e.icon,new google.maps.Size(71,71),new google.maps.Point(0,0),new google.maps.Point(17,34),new google.maps.Size(25,25);e.geometry.viewport?n.union(e.geometry.viewport):n.extend(e.geometry.location)}else console.log("Returned place contains no geometry")}),map.fitBounds(n)}}),map.addListener("click",function(e){clearMarkers(),markers=[],addMarker(e.latLng),lat.value=markers[0].getPosition().lat(),lng.value=markers[0].getPosition().lng()})}function addMarker(e){var n=new google.maps.Marker({position:e,map:map});markers.push(n)}function setMapOnAll(e){for(var n=0;n<markers.length;n++)markers[n].setMap(e)}function clearMarkers(){setMapOnAll(null)}